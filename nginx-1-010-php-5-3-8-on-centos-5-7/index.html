<!DOCTYPE html>
<html lang="en-US">
<head>
<base href="" />

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Nginx 1.010 + PHP 5.3.8 (on Centos 5.7) | GCB</title>





		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/localhost\/gurkancaner\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='penscratch-style-css'  href='/wp-content/themes/penscratch/style.css?ver=4.3' type='text/css' media='all' />
<link rel='stylesheet' id='penscratch-fonts-css'  href='//fonts.googleapis.com/css?family=Roboto+Slab:300,400,700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/penscratch/genericons/genericons.css?ver=3.0.3' type='text/css' media='all' />

 

<link rel='next' title='Vi Color' href='/vi-color/' />

<link rel='canonical' href='/nginx-1-010-php-5-3-8-on-centos-5-7/' />
<link rel='shortlink' href='/?p=55' />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-464232-9']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<link rel="stylesheet" type="text/css" href="/wp-content/plugins/wp-code-highlight/css/wp-code-highlight.css" media="screen" />
</head>

<body class="single single-post postid-55 single-format-standard">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
	<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
						<h1 class="site-title"><a href="/" rel="home">GCB</a></h1>
			<h2 class="site-description">Gürkan Caner Birer</h2>
		</div>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle">Menu</button>
			<div class="menu-top-container"><ul id="menu-top" class="menu"><li id="menu-item-20" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20"><a href="/category/genel/">Genel</a></li>
<li id="menu-item-21" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-21"><a href="/category/oyku/">Öykü</a></li>
<li id="menu-item-22" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-22"><a href="/category/sinema/">Sinema</a></li>
<li id="menu-item-23" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-23"><a href="/category/technical/">Technical</a></li>
<li id="menu-item-24" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-24"><a href="/category/fikir/">Fikir</a></li>
<li id="menu-item-25" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-25"><a href="/contact/">?</a></li>
</ul></div>		</nav><!-- #site-navigation -->
	</header><!-- #masthead -->

	<div id="content" class="site-content">
		
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-55" class="post-55 post type-post status-publish format-standard hentry category-technical tag-centos tag-linux tag-nginx tag-php">
	<header class="entry-header">
		<h1 class="entry-title">Nginx 1.010 + PHP 5.3.8 (on Centos 5.7)</h1>
		<div class="entry-meta">
						<span class="posted-on"><a href="/nginx-1-010-php-5-3-8-on-centos-5-7/" rel="bookmark"><time class="entry-date published" datetime="2011-12-19T14:53:33+00:00">December 19, 2011</time><time class="updated" datetime="2015-08-27T14:55:56+00:00">August 27, 2015</time></a></span><span class="byline"><span class="sep"> ~ </span><span class="author vcard"><a class="url fn n" href="/author/gurkancaner/">gurkancaner</a></span></span>					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
		<p><!--?php phpinfo(); ?--></p>
<p>Installing nginx is straightforward, so I will not go into details, just check the nginx documentation for more.</p>
<p>First create a repo file.</p>
<pre class="wp-code-highlight prettyprint">vi /etc/yum.repos.d/nginx.repo</pre>
<p>and add following content to repo file:</p>
<pre class="wp-code-highlight prettyprint">CentOS
[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1</pre>
<p>To install php 5.3.8 we need extra repos (<a title="source article" href="http://www.if-not-true-then-false.com/2011/install-nginx-php-fpm-on-fedora-centos-red-hat-rhel/" target="_blank">source article</a>).</p>
<pre class="wp-code-highlight prettyprint">## Remi Dependency on CentOS 5 and Red Hat (RHEL) 5 ##
rpm -Uvh http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-4.noarch.rpm
 
## CentOS 5 and Red Hat (RHEL) 5 ## 
rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-5.rpm</pre>
<p>Install using added repos.</p>
<pre class="wp-code-highlight prettyprint">yum --enablerepo=remi install nginx php php-fpm php-common</pre>
<p>Install necessary php modules for you.</p>
<pre class="wp-code-highlight prettyprint">yum --enablerepo=remi install php-pear</pre>
<p>Start Nginx</p>
<pre class="wp-code-highlight prettyprint">/etc/init.d/nginx start ## use restart after update
## OR ##
service nginx start ## use restart after update
</pre>
<p>Start PHP-FPM</p>
<pre class="wp-code-highlight prettyprint">/etc/init.d/php-fpm start ## use restart after update
## OR ##
service php-fpm start ## use restart after update
</pre>
<p>Autostart Nginx on boot</p>
<pre class="wp-code-highlight prettyprint">chkconfig --add nginx
chkconfig --levels 235 nginx on
#Autostart PHP-FPM on boot
chkconfig --add php-fpm
chkconfig --levels 235 php-fpm on
</pre>
<p>Now it is time to configure nginx to work with php.</p>
<pre class="wp-code-highlight prettyprint">vi /etc/nginx/conf.d/test.conf</pre>
<p>put these lines into file.</p>
<pre class="wp-code-highlight prettyprint">server {
    server_name example.net;
    access_log /var/logs/nginx/example.access.log;
    error_log /var/logs/nginx/example.error.log;
    root /var/www/example;
 
    location / {
        index index.html index.htm index.php;
    }
 
    location ~ \.php$ {
        include /etc/nginx/fastcgi_params;
        fastcgi_pass  127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME /var/www/example$fastcgi_script_name;
    }
}</pre>
<p>restart nginx</p>
<pre class="wp-code-highlight prettyprint">service nginx restart
</pre>
<p>create an index file to test.</p>
<pre class="wp-code-highlight prettyprint">vi /var/www/example/index.php</pre>
<pre class="wp-code-highlight prettyprint">&lt;?php phpinfo(); ?&gt;</pre>
			</div><!-- .entry-content -->

	<footer class="entry-footer">
				<span class="cat-links">
			Posted in <a href="/category/technical/" rel="category tag">Technical</a>		</span>
						<span class="tags-links">
			<a href="/tag/centos/" rel="tag">centos</a><a href="/tag/linux/" rel="tag">linux</a><a href="/tag/nginx/" rel="tag">nginx</a><a href="/tag/php/" rel="tag">php</a>		</span>
			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

				<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">
			<div class="nav-previous"><a href="/easy-install-mercurial-on-centos-5/" rel="prev"><span class="meta-nav">< Previous</span> Easy Install Mercurial on Centos 5</a></div><div class="nav-next"><a href="/vi-color/" rel="next"><span class="meta-nav">Next ></span> Vi Color</a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
			
		
		</main><!-- #main -->
	</div><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
				<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent</h1>		<ul>
					<li>
				<a href="/static-blog/">Static Blog</a>
						</li>
					<li>
				<a href="/rediska-instance-problem/">Rediska Instance Problem</a>
						</li>
					<li>
				<a href="/changing-centos-console-resolution/">Changing Centos Console Resolution</a>
						</li>
					<li>
				<a href="/vi-color/">Vi Color</a>
						</li>
					<li>
				<a href="/nginx-1-010-php-5-3-8-on-centos-5-7/">Nginx 1.010 + PHP 5.3.8 (on Centos 5.7)</a>
						</li>
				</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-10"><a href="/category/fikir/" >Fikir</a> (4)
</li>
	<li class="cat-item cat-item-7"><a href="/category/oyku/" >Öykü</a> (3)
</li>
	<li class="cat-item cat-item-8"><a href="/category/sinema/" >Sinema</a> (3)
</li>
	<li class="cat-item cat-item-9"><a href="/category/technical/" >Technical</a> (6)
</li>
		</ul>
</aside>	</div><!-- #secondary -->
	<!--WP Code Highlight_start-->
	<script type="text/javascript">
		window.onload = function(){prettyPrint();};
	</script>
	<script type="text/javascript" src="/wp-content/plugins/wp-code-highlight/js/wp-code-highlight.js"></script>
	<!--WP Code Highlight_end-->

	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="http://wordpress.org/">Proudly powered by WordPress</a>
			<span class="sep"> ~ </span>
			Theme: Penscratch by <a href="https://wordpress.com/themes/" rel="designer">WordPress.com</a>.		</div><!-- .site-info -->
			</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript' src='/wp-content/themes/penscratch/js/navigation.js?ver=20120206'></script>
<script type='text/javascript' src='/wp-content/themes/penscratch/js/skip-link-focus-fix.js?ver=20130115'></script>

</body>
</html>